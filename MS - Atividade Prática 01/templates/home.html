<!doctype html>
<html lang="en">
    <head>
        <title>Home</title>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>
    <body>
        <header>
            <nav class="navbar bg-body-tertiary">
                <div class="container">
                    <a class="navbar-brand">
                        <h4>{{current_user.username}}</h4>
                    </a>
                    <a class="navbar-brand" href="/logout">
                        <h4>Sair</h4>
                    </a>
                </div>
            </nav>
        </header>
        {% block content %}
        <main>
            <br><br>
            <div class="container">
                <div class="row justify-content-center align-items-center w-50 p-3">
                    <div class="col 4">
                        <h2>Relatar Problema</h2>
                        <br>
                        <form action="" method="post">
                            <form>
                                <div class="mb-3">
                                    <label for="NomeProblema" class="form-label">Nome do Problema</label>
                                    <input type="text" maxlength="50" class="form-control" id="nomeProblema" name="nomeProblema">
                                    <small id="charCountNome">0 de 50</small>
                                </div>
                                <div class="mb-3">
                                    <label for="descricaoProblema" class="form-label">Descrição do Problema</label>
                                    <textarea class="form-control" maxlength="2000" id="descricaoProblema" rows="5"></textarea>
                                    <small id="charCountDescricao">0 de 2000</small>
                                </div>
                                <div class="form-group">
                                    <label for="" class="form-label">Anexe a print do problema relatado</label>
                                    <br>
                                    <input type="file" class="form-control-file" id="exampleFormControlFile1">
                                </div><br>
                                <button type="submit" class="btn btn-primary">Enviar</button>
                            </form>
                    </div>
                </div>
            </div>
        </main>
        <footer>
        </footer>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Character count for asunto_do_chamado
                const nomeInput = document.getElementById('nomeProblema');
                const charCountAssunto = document.getElementById('charCountNome');
                nomeInput.addEventListener('input', function() {
                    charCountNome.textContent = `${nomeInput.value.length} de 50`;
                    });
                
                // Character count for descriçao_do_chamado
                const descricaoInput = document.getElementById('descricaoProblema');
                const charCountDescricao = document.getElementById('charCountDescricao');
                descricaoInput.addEventListener('input', function() {
                    const textLength = descricaoInput.value.replace(/\s/g, '').length;
                    charCountDescricao.textContent = `${textLength} de 2000`;
                });
            });
        </script>
        {% endblock %}
    </body>
</html>